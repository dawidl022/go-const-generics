\begin{figure}
    \begin{mathpar}
        \inferrule
        {(\type~t_A~ [n]t) \in \ov{D}}
        {t = \elementtype(t_A)}

        \inferrule
        {(\type~t_A~ [n]t) \in \ov{D}}
        {n = \len(t_A)}

        \inferrule
        {~}
        {\methods(\kw{int}) = \{\}}

        \inferrule
        {~}
        {\methods(n) = \{\}}

        \gray{
            \inferrule
            {}
            {\methods(\black{t_V}) = \{
                mM \mid
                (\func~(x~\black{t_V})~mM~\br{\return~e}) \in \ov{D}
                \}\black{~\cup}\\
                \black{\{
                    m(x_1~\kw{int},~x_2~t) ~t_V \mid
                    (\func~(x~t_V) ~m(x_1~\kw{int},~x_2~t) ~t_V~
                    \br{ x[x_1] = x_2;~\return~x }) \in \ov{D}
                    \}}}
        }

        \gray{
            \inferrule
            {\type~t_I~\interface\br{\ov{S}} \in \ov{D}}
            {\methods(t_I) = \ov{S}}
        }

        \inferrule
        {\distinct(\ov{m})}
        {\unique(\ov{mM})}

        \inferrule
        {a_i \neq a_j~\forall a_i, a_j \in \ov{a},~i \neq j}
        {\distinct(\ov{a})}

        \gray{
            \inferrule
            {}
            {\tdecls(\ov{D}) = \lst{\black{t_D} \mid (\type~\black{t_D}~T) \in \ov{D}}}
        }

        \gray{
            \inferrule
            {}
            {\mdecls(\ov{D}) = \lst{\black{t_V}.m \mid
                    (\func~(x~\black{t_V})~mM~\br{\return~e}) \in \ov{D}}}
        }
        \\
        \inferrule
        {~}
        {
            \notref(\ov{t_r}, \kw{int})
        }

        \inferrule
        {~}
        {
            \notref(\ov{t_r},~\interface~\br{\ov{S}})
        }
        \\
        \inferrule
        {
            \notref(\ov{t_r}, t)
        }
        {
            \notref(\ov{t_r},~[n]t)
        }

        \inferrule
        {
            \notref(\ov{t_r}, t)~\forall t \in \ov{f~t}
        }
        {
            \notref(\ov{t_r},~\struct \br{\ov{f~t}})
        }

        \inferrule
        {
            (\type~\black{t_D}~T) \in \ov{D}
            \\
            \ov{t_r \neq t_D}
            \\
            \notref(\ov{t_r}, t_D, T)
        }
        {
            \notref(\ov{t_r}, t_D)
        }
    \end{mathpar}
    \caption{FGA auxiliary functions for typing rules}
    \label{fig:fg-typing-aux}
\end{figure}
